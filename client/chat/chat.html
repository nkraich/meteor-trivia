<template name="chat">
  <div id="chatPanel">
    <div id="chatWindow">
      {{#if loggedIn}}
      {{> messages}}
      {{else}}
      <p style="color:#999;margin-top:40px;text-align:center">Please enter a username to view the chat.</p>
      {{/if}}
    </div>
    <div id="userListWindow">
      {{> userList}}
    </div>
    <div id="chatFooter" class="panel-footer">
      {{#if loggedIn }}
      <form>
        <input id="chatInput" class="form-control input-md"
          placeholder="Type a message here." value="">
      </form>
      {{else}}
        {{> username }}
      {{/if}}
    </div>
  </div>
</template>

<template name="messages">
  {{#each messages}}
  <div>&lt;{{userName}}&gt; {{sanitizeContent message}}</div>
  {{/each}}
</template>

<template name="userList">
  {{#each users}}
  {{#if away}}
  <div class="user"><i>{{profile.name}} <span class="small">{{score}}</span></i></div>
  {{else}}
  <div class="user">{{profile.name}} <span class="small">{{score}}</span></div>
  {{/if}}
  {{/each}}
  <div id="visitorsIndicator">{{visitorStatus}}</div>
</template>

<template name="username">
  <div class="form-horizontal" role="form">
    <div class="form-group">
      <label for="inputEmail3" class="col-sm-3 control-label">Username:</label>
      <div class="col-sm-9">
        <input id="userName" class="form-control input-md" placeholder="Enter your old IRC nick!" value="{{ value }}">
      </div>
    </div>
  </div>
</template>
